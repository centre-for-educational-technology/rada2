!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,n){"use strict";(function(e){function n(t,e){window.console}function i(t,e,n){if("object"==typeof e)n(e);else{var i=e.call(this);if("function"==typeof i)if(i.resolved)n(i.resolved);else if(i.requested)i.pendingCallbacks.push(n);else{i.requested=!0;var r=i.pendingCallbacks=[n];i(function(t){i.resolved=t;for(var e=0,n=r.length;e<n;e++)r[e](t)},function(){n()})}else o(i)&&i.then(function(t){n(t)},function(){n()})["catch"](function(t){n()})}}function o(t){return t&&"function"==typeof t.then}function r(t){if(!b){var e=t.$watch("__watcher__",function(t){});b=t._watchers[0].constructor,e()}return b}function a(t){return!C&&t&&t._data&&t._data.__ob__&&t._data.__ob__.dep&&(C=t._data.__ob__.dep.constructor),C}function s(t){return null===t||void 0===t}function l(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function c(t){return null!==t&&"object"==typeof t}function u(t){return T.call(t)===$}function d(t,e){return O.call(t,e)}function f(t){return Z.test(t)}function h(t){var e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e!==n||34!==e&&39!==e?t:t.slice(1,-1)}function p(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:case 45:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&e<=122||e>=65&&e<=90?"ident":e>=49&&e<=57?"number":"else"}function v(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(f(e)?h(e):"*"+e)}function g(t){function e(){var e=t[u+1];if(d===z&&"'"===e||d===q&&'"'===e)return u++,i="\\"+e,h[A](),!0}var n,i,o,r,a,s,l,c=[],u=-1,d=P,f=0,h=[];for(h[N]=function(){void 0!==o&&(c.push(o),o=void 0)},h[A]=function(){void 0===o?o=i:o+=i},h[j]=function(){h[A](),f++},h[L]=function(){if(f>0)f--,d=U,h[A]();else{if(f=0,o=v(o),o===!1)return!1;h[N]()}};null!=d;)if(u++,n=t[u],"\\"!==n||!e()){if(r=p(n),l=H[d],a=l[r]||l["else"]||X,a===X)return;if(d=a[0],s=h[a[1]],s&&(i=a[2],i=void 0===i?n:i,s()===!1))return;if(d===Y)return c.raw=t,c}}function m(t){var e=F[t];return e||(e=g(t),e&&(F[t]=e)),e}function y(t,i){void 0===i&&(i={});var o=t.version&&Number(t.version.split(".")[0])||-1;if("production"!==e.env.NODE_ENV&&y.installed)return void n("already installed.");if("production"!==e.env.NODE_ENV&&o<2)return void n("vue-i18n ("+y.version+") need to use Vue 2.0 or later (Vue: "+t.version+").");var r="en";_(t,r),x(t,W),D(t,W),E(t,W,r),G(t)}function _(t,e){var n=t.config.silent;t.config.silent=!0,W||(W=new t({data:{lang:e,locales:{}}})),t.config.silent=n}var b,C,w,x=function(t,e){t.locale=function(t,o,r){return void 0===o?e.locales[t]:void(null===o?(e.locales[t]=void 0,delete e.locales[t]):i(t,o,function(i){i?e.$set(e.locales,t,i):n("failed set `"+t+"` locale"),r&&r()}))}},D=function(t,e){var n=t.prototype._init;t.prototype._init=function(t){var i=this;n.call(this,t),this.$parent||(this._$lang=e,this._langUnwatch=this._$lang.$watch("$data",function(t,e){i.$forceUpdate()},{deep:!0}))};var i=t.prototype._destroy;t.prototype._destroy=function(){!this.$parent&&this._langUnwatch&&(this._langUnwatch(),this._langUnwatch=null,this._$lang=null),i.apply(this,arguments)}},T=Object.prototype.toString,$="[object Object]",O=Object.prototype.hasOwnProperty,k=null,I=null,E=function(t,e,n){function i(t,e){var n=new o(e,t,null,{lazy:!0});return function(){return n.dirty&&n.evaluate(),s&&s.target&&n.depend(),n.value}}var o=r(e),s=a(e);Object.defineProperty(t.config,"lang",{enumerable:!0,configurable:!0,get:i(function(){return e.lang},e),set:l(function(t){e.lang=t},e)}),w=n,Object.defineProperty(t.config,"fallbackLang",{enumerable:!0,configurable:!0,get:function(){return w},set:function(t){w=t}}),Object.defineProperty(t.config,"missingHandler",{enumerable:!0,configurable:!0,get:function(){return k},set:function(t){k=t}}),Object.defineProperty(t.config,"i18nFormatter",{enumerable:!0,configurable:!0,get:function(){return I},set:function(t){I=t}})},R=/(%|)\{([0-9a-zA-Z_]+)\}/g,S=function(t){function e(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return e=1===e.length&&"object"==typeof e[0]?e[0]:{},e&&e.hasOwnProperty||(e={}),t.replace(R,function(n,i,o,r){var a;return"{"===t[r-1]&&"}"===t[r+n.length]?o:(a=d(e,o)?e[o]:n,s(a)?"":a)})}return e},F=Object.create(null),A=0,N=1,j=2,L=3,P=0,M=1,B=2,V=3,U=4,z=5,q=6,Y=7,X=8,H=[];H[P]={ws:[P],ident:[V,A],"[":[U],eof:[Y]},H[M]={ws:[M],".":[B],"[":[U],eof:[Y]},H[B]={ws:[B],ident:[V,A],0:[V,A],number:[V,A]},H[V]={ident:[V,A],0:[V,A],number:[V,A],ws:[M,N],".":[B,N],"[":[U,N],eof:[Y,N]},H[U]={"'":[z,A],'"':[q,A],"[":[U,j],"]":[M,L],eof:X,"else":[U,A]},H[z]={"'":[U,A],eof:X,"else":[z,A]},H[q]={'"':[U,A],eof:X,"else":[q,A]};var W,Z=/^\s?(true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/,Q=function(t){function e(t){if(null===t||void 0===t)return!0;if(Array.isArray(t)){if(t.length>0)return!1;if(0===t.length)return!0}else if(u(t))for(var e in t)if(d(t,e))return!1;return!0}function n(t,n){if(!c(t))return null;var i=m(n);if(e(i))return null;for(var o=i.length,r=null,a=t,s=0;s<o;){var l=a[i[s]];if(void 0===l){a=null;break}a=l,s++}return r=a}return n},G=function(t){function i(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=t.config.lang,o=t.config.fallbackLang;return 1===e.length?c(e[0])||Array.isArray(e[0])?e=e[0]:"string"==typeof e[0]&&(i=e[0]):2===e.length&&("string"==typeof e[0]&&(i=e[0]),(c(e[1])||Array.isArray(e[1]))&&(e=e[1])),{lang:i,fallback:o,params:e}}function o(t,e){return!(!t||!e)&&!s(m(t,e))}function r(e,i,o){if(!e)return null;var a=m(e,i);if(Array.isArray(a))return a;if(s(a)&&(a=e[i]),s(a))return null;if("string"!=typeof a)return n("Value of key '"+i+"' is not a string!"),null;if(a.indexOf("@:")>=0){var l=a.match(/(@:[\w|.]+)/g);for(var c in l){var u=l[c],d=u.substr(2),f=r(e,d,o);a=a.replace(u,f)}}return o?t.config.i18nFormatter?t.config.i18nFormatter.apply(null,[a].concat(o)):g(a,o):a}function a(t,i,o,a,l){var c=null;return c=r(t(i),a,l),s(c)?(c=r(t(o),a,l),s(c)?null:("production"!==e.env.NODE_ENV&&n('Fall back to translate the keypath "'+a+'" with "'+o+'" language.'),c)):c}function u(i,o,r,a){return s(a)?(t.config.missingHandler?t.config.missingHandler.apply(null,[i,o,r]):"production"!==e.env.NODE_ENV&&n('Cannot translate the value of keypath "'+o+'". Use the value of keypath as default'),o):a}function d(e){return t.locale(e)}function f(t){return this.$options.locales[t]}function h(t){return t?t>1?1:0:1}function p(t,e){return t=Math.abs(t),2===e?h(t):t?Math.min(t,2):0}function v(t,e){if(!t&&"string"!=typeof t)return null;var n=t.split("|");return e=p(e,n.length),n[e]?n[e].trim():t}var g=S(t),m=Q(t);return t.t=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!t)return"";var o=i.apply(void 0,e),r=o.lang,s=o.fallback,l=o.params;return u(r,t,null,a(d,r,s,t,l))},t.tc=function(e,n){for(var i=[],o=arguments.length-2;o-- >0;)i[o]=arguments[o+2];return v(t.t.apply(t,[e].concat(i)),n)},t.te=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=i.apply(void 0,e),a=r.lang;return o(d(a),t)},t.prototype.$t=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!t)return"";var o=i.apply(void 0,e),r=o.lang,s=o.fallback,c=o.params,h=null;return this.$options.locales&&(h=a(l(f,this),r,s,t,c))?h:u(r,t,this,a(d,r,s,t,c))},t.prototype.$tc=function(t,e){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];return"number"!=typeof e&&"undefined"!=typeof e?t:v((o=this).$t.apply(o,[t].concat(n)),e);var o},t.prototype.$te=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=i.apply(void 0,e),a=r.lang,s=!1;return this.$options.locales&&(s=o(l(f)(a),t)),s||(s=o(d(a),t)),s},t.mixin({computed:{$lang:function(){return t.config.lang}}}),t};y.version="__VERSION__","undefined"!=typeof window&&window.Vue&&window.Vue.use(y),t.exports=y}).call(e,n(3))},function(t,e,n){var i=n(5)(n(2),n(6),null,null);t.exports=i.exports},function(t,e,n){"use strict";var i=n(7),o=n.n(i);e["default"]={components:{draggable:o.a},props:["apiUrl"],mounted:function(){var t=this,e=this;window.Laravel.activityItems&&(this.items=window.Laravel.activityItems),window.Laravel.zooOptions&&(this.zooOptions=_.merge(window.Laravel.zooOptions,this.zooOptions)),window.Laravel.questionTypeOptions&&(this.questionTypeOptions=_.merge(window.Laravel.questionTypeOptions,this.questionTypeOptions)),window.Laravel.languageOptions&&(this.languageOptions=_.merge(window.Laravel.languageOptions,this.languageOptions)),this.$nextTick(function(){$(t.$refs.modal).on("hide.bs.modal",function(t){e.inAjaxCall&&t.preventDefault()}),$(t.$refs.rangeSlider).ionRangeSlider({onChange:function(t){e.searchForm.difficultyLevel.from=t.from,e.searchForm.difficultyLevel.to=t.to}})})},data:function(){return{items:[],options:{sort:!0},inAjaxCall:!1,searchResults:{data:[],total:0,loadMore:!1,order:{by:null,direction:null}},zooOptions:{0:this.$t("any")},questionTypeOptions:{0:this.$t("any")},languageOptions:{0:this.$t("any")},playingTimeOptions:{0:this.$t("any")},searchForm:{keywords:"",zoo:"0",questionType:"0",language:"0",difficultyLevel:{from:1,to:99},playingTime:"0"}}},computed:{sortedSearchResults:function(){return this.searchResults.order.by&&this.searchResults.order.direction?_.orderBy(this.searchResults.data,this.searchResults.order.by,this.searchResults.order.direction):this.searchResults.data}},methods:{openDialog:function(){var t=this;this.$nextTick(function(){$(t.$refs.modal).modal("show")})},closeDialog:function(){var t=this;this.inAjaxCall||this.$nextTick(function(){$(t.$refs.modal).modal("hide")})},searchForItems:function(){var t=this,e={keywords:t.searchForm.keywords,zoo:t.searchForm.zoo,questionType:t.searchForm.questionType,language:t.searchForm.language};t.inAjaxCall=!0,this.$http.get(t.apiUrl+"/activity_items/search",{params:e}).then(function(n){t.inAjaxCall=!1,t.searchResults.total=n.body.total,t.searchResults.currentPage=n.body.current_page,t.searchResults.params=e,t.searchResults.loadMore=n.body.current_page<n.body.last_page,t.searchResults.data=_.cloneDeep(n.body.data)},function(e){t.inAjaxCall=!1})},loadMoreItems:function(){var t=this;t.inAjaxCall=!0,t.searchResults.params.page=t.searchResults.currentPage+1,this.$http.get(t.apiUrl+"/activity_items/search",{params:t.searchResults.params}).then(function(e){t.inAjaxCall=!1;var n=t.searchResults.data;n.push.apply(n,_.cloneDeep(e.body.data)),t.searchResults.currentPage=e.body.current_page,t.searchResults.loadMore=e.body.current_page<e.body.last_page},function(e){t.inAjaxCall=!1})},getItemIndex:function(t){return _.findIndex(this.items,function(e){return e.id===t.id})},hasItem:function(t){return this.getItemIndex(t)!==-1},addItem:function(t){this.hasItem(t)||this.items.push(t)},removeItem:function(t){var e=this.getItemIndex(t);e!==-1&&this.items.splice(e,1)},getOptionValueFromId:function(t,e){var n=t[e];return n?n:e},getZooFromId:function(t){return this.getOptionValueFromId(this.zooOptions,t)},getQuestionTypeFromId:function(t){return this.getOptionValueFromId(this.questionTypeOptions,t)},getLanguageFromId:function(t){return this.getOptionValueFromId(this.languageOptions,t)},sortSearchResults:function(t){var e=this.searchResults.order.by,n=this.searchResults.order.direction;e===t?this.searchResults.order.direction="desc"===n?"asc":"desc":(this.searchResults.order.by=t,this.searchResults.order.direction=n?n:"desc")},isOrderedBy:function(t){return this.searchResults.order.by===t}}}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function r(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){v&&h&&(v=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!v){var t=o(a);v=!0;for(var e=p.length;e;){for(h=p,p=[];++g<e;)h&&h[g].run();g=-1,e=p.length}h=null,v=!1,r(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,d,f=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(t){d=i}}();var h,p=[],v=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new l(t,e)),1!==p.length||v||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){var i,o;!function(r){"use strict";i=r,o="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==o&&(t.exports=o))}(function(){"use strict";function t(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=_({},e),t[Y]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var i in n)!(i in e)&&(e[i]=n[i]);at(e);for(var o in this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&J,r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),r(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(r(t,"dragover",this),r(t,"dragenter",this)),ot.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function e(t,e){"clone"!==t.lastPullMode&&(e=!0),T&&T.state!==e&&(l(T,"display",e?"none":""),e||T.state&&(t.options.group.revertClone?($.insertBefore(T,O),t._animate(w,T)):$.insertBefore(T,w)),T.state=e)}function n(t,e,n){if(t){n=n||H;do if(">*"===e&&t.parentNode===n||m(t,e))return t;while(t=i(t))}return null}function i(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}function o(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}function r(t,e,n){t.addEventListener(e,n,G)}function a(t,e,n){t.removeEventListener(e,n,G)}function s(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(z," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(z," ")}}function l(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return H.defaultView&&H.defaultView.getComputedStyle?n=H.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function c(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function u(t,e,n,i,o,r,a){t=t||e[Y];var s=H.createEvent("Event"),l=t.options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);s.initEvent(n,!0,!0),s.to=e,s.from=o||e,s.item=i||e,s.clone=T,s.oldIndex=r,s.newIndex=a,e.dispatchEvent(s),l[c]&&l[c].call(t,s)}function d(t,e,n,i,o,r,a){var s,l,c=t[Y],u=c.options.onMove;return s=H.createEvent("Event"),s.initEvent("move",!0,!0),s.to=e,s.from=t,s.dragged=n,s.draggedRect=i,s.related=o||e,s.relatedRect=r||e.getBoundingClientRect(),t.dispatchEvent(s),u&&(l=u.call(c,s,a)),l}function f(t){t.draggable=!1}function h(){tt=!1}function p(t,e){var n=t.lastElementChild,i=n.getBoundingClientRect();return(e.clientY-(i.top+i.height)>5||e.clientX-(i.right+i.width)>5)&&n}function v(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function g(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!m(t,e)||n++;return n}function m(t,e){if(t){e=e.split(".");var n=e.shift().toUpperCase(),i=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==n&&t.nodeName.toUpperCase()!=n||e.length&&((" "+t.className+" ").match(i)||[]).length!=e.length)}return!1}function y(t,e){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?t.call(i,n[0]):t.apply(i,n),n=void 0},e))}}function _(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function b(t){return Z?Z(t).clone(!0)[0]:Q&&Q.dom?Q.dom(t).cloneNode(!0):t.cloneNode(!0)}function C(t){for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&it.push(i)}}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var w,x,D,T,$,O,k,I,E,R,S,F,A,N,j,L,P,M,B,V,U={},z=/\s+/g,q=/left|right|inline/,Y="Sortable"+(new Date).getTime(),X=window,H=X.document,W=X.parseInt,Z=X.jQuery||X.Zepto,Q=X.Polymer,G=!1,J=!!("draggable"in H.createElement("div")),K=function(t){return!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&(t=H.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents)}(),tt=!1,et=Math.abs,nt=Math.min,it=[],ot=[],rt=y(function(t,e,n){if(n&&e.scroll){var i,o,r,a,s,l,c=n[Y],u=e.scrollSensitivity,d=e.scrollSpeed,f=t.clientX,h=t.clientY,p=window.innerWidth,v=window.innerHeight;if(E!==n&&(I=e.scroll,E=n,R=e.scrollFn,I===!0)){I=n;do if(I.offsetWidth<I.scrollWidth||I.offsetHeight<I.scrollHeight)break;while(I=I.parentNode)}I&&(i=I,o=I.getBoundingClientRect(),r=(et(o.right-f)<=u)-(et(o.left-f)<=u),a=(et(o.bottom-h)<=u)-(et(o.top-h)<=u)),r||a||(r=(p-f<=u)-(f<=u),a=(v-h<=u)-(h<=u),(r||a)&&(i=X)),U.vx===r&&U.vy===a&&U.el===i||(U.el=i,U.vx=r,U.vy=a,clearInterval(U.pid),i&&(U.pid=setInterval(function(){return l=a?a*d:0,s=r?r*d:0,"function"==typeof R?R.call(c,s,l,t):void(i===X?X.scrollTo(X.pageXOffset+s,X.pageYOffset+l):(i.scrollTop+=l,i.scrollLeft+=s))},24)))}},30),at=function(t){function e(t,e){return void 0!==t&&t!==!0||(t=n.name),"function"==typeof t?t:function(n,i){var o=i.options.group.name;return e?t:t&&(t.join?t.indexOf(o)>-1:o==t)}}var n={},i=t.group;i&&"object"==typeof i||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n};t.prototype={constructor:t,_onTapStart:function(t){var e,i=this,o=this.el,r=this.options,a=r.preventOnFilter,s=t.type,l=t.touches&&t.touches[0],c=(l||t).target,d=t.target.shadowRoot&&t.path[0]||c,f=r.filter;if(C(o),!w&&!("mousedown"===s&&0!==t.button||r.disabled)&&(c=n(c,r.draggable,o),c&&k!==c)){if(e=g(c,r.draggable),"function"==typeof f){if(f.call(this,t,c,this))return u(i,d,"filter",c,o,e),void(a&&t.preventDefault())}else if(f&&(f=f.split(",").some(function(t){if(t=n(d,t.trim(),o))return u(i,t,"filter",c,o,e),!0})))return void(a&&t.preventDefault());r.handle&&!n(d,r.handle,o)||this._prepareDragStart(t,l,c,e)}},_prepareDragStart:function(t,e,n,i){var o,a=this,l=a.el,d=a.options,h=l.ownerDocument;n&&!w&&n.parentNode===l&&(M=t,$=l,w=n,x=w.parentNode,O=w.nextSibling,k=n,L=d.group,N=i,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,w.style["will-change"]="transform",o=function(){a._disableDelayedDrag(),w.draggable=a.nativeDraggable,s(w,d.chosenClass,!0),a._triggerDragStart(t,e),u(a,$,"choose",w,$,N)},d.ignore.split(",").forEach(function(t){c(w,t.trim(),f)}),r(h,"mouseup",a._onDrop),r(h,"touchend",a._onDrop),r(h,"touchcancel",a._onDrop),r(h,"pointercancel",a._onDrop),r(h,"selectstart",a),d.delay?(r(h,"mouseup",a._disableDelayedDrag),r(h,"touchend",a._disableDelayedDrag),r(h,"touchcancel",a._disableDelayedDrag),r(h,"mousemove",a._disableDelayedDrag),r(h,"touchmove",a._disableDelayedDrag),r(h,"pointermove",a._disableDelayedDrag),a._dragStartTimer=setTimeout(o,d.delay)):o())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),a(t,"mouseup",this._disableDelayedDrag),a(t,"touchend",this._disableDelayedDrag),a(t,"touchcancel",this._disableDelayedDrag),a(t,"mousemove",this._disableDelayedDrag),a(t,"touchmove",this._disableDelayedDrag),a(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,e){e=e||("touch"==t.pointerType?t:null),e?(M={target:w,clientX:e.clientX,clientY:e.clientY},this._onDragStart(M,"touch")):this.nativeDraggable?(r(w,"dragend",this),r($,"dragstart",this._onDragStart)):this._onDragStart(M,!0);try{H.selection?setTimeout(function(){H.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(){if($&&w){var e=this.options;s(w,e.ghostClass,!0),s(w,e.dragClass,!1),t.active=this,u(this,$,"start",w,$,N)}else this._nulling()},_emulateDragOver:function(){if(B){if(this._lastX===B.clientX&&this._lastY===B.clientY)return;this._lastX=B.clientX,this._lastY=B.clientY,K||l(D,"display","none");var t=H.elementFromPoint(B.clientX,B.clientY),e=t,n=ot.length;if(e)do{if(e[Y]){for(;n--;)ot[n]({clientX:B.clientX,clientY:B.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);K||l(D,"display","")}},_onTouchMove:function(e){if(M){var n=this.options,i=n.fallbackTolerance,o=n.fallbackOffset,r=e.touches?e.touches[0]:e,a=r.clientX-M.clientX+o.x,s=r.clientY-M.clientY+o.y,c=e.touches?"translate3d("+a+"px,"+s+"px,0)":"translate("+a+"px,"+s+"px)";if(!t.active){if(i&&nt(et(r.clientX-this._lastX),et(r.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),V=!0,B=r,l(D,"webkitTransform",c),l(D,"mozTransform",c),l(D,"msTransform",c),l(D,"transform",c),e.preventDefault()}},_appendGhost:function(){if(!D){var t,e=w.getBoundingClientRect(),n=l(w),i=this.options;D=w.cloneNode(!0),s(D,i.ghostClass,!1),s(D,i.fallbackClass,!0),s(D,i.dragClass,!0),l(D,"top",e.top-W(n.marginTop,10)),l(D,"left",e.left-W(n.marginLeft,10)),l(D,"width",e.width),l(D,"height",e.height),l(D,"opacity","0.8"),l(D,"position","fixed"),l(D,"zIndex","100000"),l(D,"pointerEvents","none"),i.fallbackOnBody&&H.body.appendChild(D)||$.appendChild(D),t=D.getBoundingClientRect(),l(D,"width",2*e.width-t.width),l(D,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var n=t.dataTransfer,i=this.options;this._offUpEvents(),L.checkPull(this,this,w,t)&&(T=b(w),T.draggable=!1,T.style["will-change"]="",l(T,"display","none"),s(T,this.options.chosenClass,!1),$.insertBefore(T,w),u(this,$,"clone",w)),s(w,i.dragClass,!0),e?("touch"===e?(r(H,"touchmove",this._onTouchMove),r(H,"touchend",this._onDrop),r(H,"touchcancel",this._onDrop),r(H,"pointermove",this._onTouchMove),r(H,"pointerup",this._onDrop)):(r(H,"mousemove",this._onTouchMove),r(H,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,w)),r(H,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(i){var o,r,a,s,c=this.el,u=this.options,f=u.group,v=t.active,g=L===f,m=!1,y=u.sort;if(void 0!==i.preventDefault&&(i.preventDefault(),!u.dragoverBubble&&i.stopPropagation()),!w.animated&&(V=!0,v&&!u.disabled&&(g?y||(s=!$.contains(w)):P===this||(v.lastPullMode=L.checkPull(this,v,w,i))&&f.checkPut(this,v,w,i))&&(void 0===i.rootEl||i.rootEl===this.el))){if(rt(i,u,this.el),tt)return;if(o=n(i.target,u.draggable,c),r=w.getBoundingClientRect(),P!==this&&(P=this,m=!0),s)return e(v,!0),x=$,void(T||O?$.insertBefore(w,T||O):y||$.appendChild(w));if(0===c.children.length||c.children[0]===D||c===i.target&&(o=p(c,i))){if(o){if(o.animated)return;a=o.getBoundingClientRect()}e(v,g),d($,c,w,r,o,a,i)!==!1&&(w.contains(c)||(c.appendChild(w),x=c),this._animate(r,w),o&&this._animate(a,o))}else if(o&&!o.animated&&o!==w&&void 0!==o.parentNode[Y]){S!==o&&(S=o,F=l(o),A=l(o.parentNode)),a=o.getBoundingClientRect();var _=a.right-a.left,b=a.bottom-a.top,C=q.test(F.cssFloat+F.display)||"flex"==A.display&&0===A["flex-direction"].indexOf("row"),k=o.offsetWidth>w.offsetWidth,I=o.offsetHeight>w.offsetHeight,E=(C?(i.clientX-a.left)/_:(i.clientY-a.top)/b)>.5,R=o.nextElementSibling,N=d($,c,w,r,o,a,i),j=!1;if(N!==!1){if(tt=!0,setTimeout(h,30),e(v,g),1===N||N===-1)j=1===N;else if(C){var M=w.offsetTop,B=o.offsetTop;j=M===B?o.previousElementSibling===w&&!k||E&&k:o.previousElementSibling===w||w.previousElementSibling===o?(i.clientY-a.top)/b>.5:B>M}else m||(j=R!==w&&!I||E&&I);w.contains(c)||(j&&!R?c.appendChild(w):o.parentNode.insertBefore(w,j?R:o)),x=w.parentNode,this._animate(r,w),this._animate(a,o)}}}},_animate:function(t,e){var n=this.options.animation;if(n){var i=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),l(e,"transition","none"),l(e,"transform","translate3d("+(t.left-i.left)+"px,"+(t.top-i.top)+"px,0)"),e.offsetWidth,l(e,"transition","all "+n+"ms"),l(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){l(e,"transition",""),l(e,"transform",""),e.animated=!1},n)}},_offUpEvents:function(){var t=this.el.ownerDocument;a(H,"touchmove",this._onTouchMove),a(H,"pointermove",this._onTouchMove),a(t,"mouseup",this._onDrop),a(t,"touchend",this._onDrop),a(t,"pointerup",this._onDrop),a(t,"touchcancel",this._onDrop),a(t,"selectstart",this)},_onDrop:function(e){var n=this.el,i=this.options;clearInterval(this._loopId),clearInterval(U.pid),clearTimeout(this._dragStartTimer),a(H,"mousemove",this._onTouchMove),this.nativeDraggable&&(a(H,"drop",this),a(n,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(V&&(e.preventDefault(),!i.dropBubble&&e.stopPropagation()),D&&D.parentNode.removeChild(D),$!==x&&"clone"===t.active.lastPullMode||T&&T.parentNode.removeChild(T),w&&(this.nativeDraggable&&a(w,"dragend",this),f(w),w.style["will-change"]="",s(w,this.options.ghostClass,!1),s(w,this.options.chosenClass,!1),$!==x?(j=g(w,i.draggable),j>=0&&(u(null,x,"add",w,$,N,j),u(this,$,"remove",w,$,N,j),u(null,x,"sort",w,$,N,j),u(this,$,"sort",w,$,N,j))):w.nextSibling!==O&&(j=g(w,i.draggable),j>=0&&(u(this,$,"update",w,$,N,j),u(this,$,"sort",w,$,N,j))),t.active&&(null!=j&&j!==-1||(j=N),u(this,$,"end",w,$,N,j),this.save()))),this._nulling()},_nulling:function(){$=w=x=D=O=T=k=I=E=M=B=V=j=S=F=P=L=t.active=null,it.forEach(function(t){t.checked=!0}),it.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":w&&(this._onDragOver(t),o(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],i=this.el.children,o=0,r=i.length,a=this.options;o<r;o++)t=i[o],n(t,a.draggable,this.el)&&e.push(t.getAttribute(a.dataIdAttr)||v(t));return e},sort:function(t){var e={},i=this.el;this.toArray().forEach(function(t,o){var r=i.children[o];n(r,this.options.draggable,i)&&(e[t]=r)},this),t.forEach(function(t){e[t]&&(i.removeChild(e[t]),i.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return n(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;return void 0===e?n[t]:(n[t]=e,void("group"===t&&at(n)))},destroy:function(){var t=this.el;t[Y]=null,a(t,"mousedown",this._onTapStart),a(t,"touchstart",this._onTapStart),a(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(a(t,"dragover",this),a(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),ot.splice(ot.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},r(H,"touchmove",function(e){t.active&&e.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){G={capture:!1,passive:!1}}}))}catch(st){}return t.utils={on:r,off:a,css:l,find:c,is:function(t,e){return!!n(t,e,t)},extend:_,throttle:y,closest:n,toggleClass:s,clone:b,index:g},t.create=function(e,n){return new t(e,n)},t.version="1.5.1",t})},function(t,e){t.exports=function(t,e,n,i){var o,r=t=t||{},a=typeof t["default"];"object"!==a&&"function"!==a||(o=t,r=t["default"]);var s="function"==typeof r?r.options:r;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),n&&(s._scopeId=n),i){var l=Object.create(s.computed||null);Object.keys(i).forEach(function(t){var e=i[t];l[t]=function(){return e}}),s.computed=l}return{esModule:o,exports:r,options:s}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:void t.closeDialog()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"esc",27)?void t.closeDialog():null}}},[n("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.closeDialog()}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),t._v(" "),n("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("add-activity-items")))])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"form-group"},[n("label",[t._v(t._s(t.$t("keywords")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchForm.keywords,expression:"searchForm.keywords"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("keyword-or-title")},domProps:{value:t.searchForm.keywords},on:{input:function(e){e.target.composing||(t.searchForm.keywords=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v(t._s(t.$t("zoo")))]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.searchForm.zoo,expression:"searchForm.zoo"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.searchForm.zoo=e.target.multiple?n:n[0]}}},t._l(t.zooOptions,function(e,i){return n("option",{domProps:{value:i}},[t._v(t._s(e))])}))]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v(t._s(t.$t("question-type")))]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.searchForm.questionType,expression:"searchForm.questionType"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.searchForm.questionType=e.target.multiple?n:n[0]}}},t._l(t.questionTypeOptions,function(e,i){return n("option",{domProps:{value:i}},[t._v(t._s(e))])}))]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v(t._s(t.$t("language")))]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.searchForm.language,expression:"searchForm.language"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.searchForm.language=e.target.multiple?n:n[0]}}},t._l(t.languageOptions,function(e,i){
return n("option",{domProps:{value:i}},[t._v(t._s(e))])}))]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v(t._s(t.$t("difficulty-level")))]),t._v(" "),n("input",{ref:"rangeSlider",staticClass:"form-control",attrs:{type:"hidden","data-type":"double","data-min":"1","data-max":"99","data-from":"1","data-to":"99","data-step":"1","data-grid":"true","data-grid-num":"11","data-disable":"true"}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v(t._s(t.$t("playing-time")))]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.searchForm.playingTime,expression:"searchForm.playingTime"}],staticClass:"form-control",attrs:{disabled:"disabled"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.searchForm.playingTime=e.target.multiple?n:n[0]}}},t._l(t.playingTimeOptions,function(e,i){return n("option",{domProps:{value:i}},[t._v(t._s(e))])}))]),t._v(" "),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.inAjaxCall},on:{click:function(e){t.searchForItems()}}},[t._v(t._s(t.$t("search")))])]),t._v(" "),t.searchResults.data&&t.searchResults.data.length>0?n("div",[n("strong",[t._v(t._s(t.searchResults.total)+" "+t._s(t.$t("items-found"))+":")]),t._v(" "),n("table",{staticClass:"table table-striped table-hover sz-search-results"},[n("thead",[n("tr",[n("th",{staticClass:"sortable","class":{active:t.isOrderedBy("title")},on:{click:function(e){t.sortSearchResults("title")}}},[n("i",{staticClass:"mdi mdi-sort-alphabetical pull-right"}),t._v("\n                                            "+t._s(t.$t("title"))+"\n                                        ")]),t._v(" "),n("th",{staticClass:"sortable hidden-xs","class":{active:t.isOrderedBy("zoo")},on:{click:function(e){t.sortSearchResults("zoo")}}},[n("i",{staticClass:"mdi mdi-sort-numeric pull-right"}),t._v("\n                                            "+t._s(t.$t("zoo"))+"\n                                        ")]),t._v(" "),n("th",{staticClass:"sortable hidden-xs","class":{active:t.isOrderedBy("type")},on:{click:function(e){t.sortSearchResults("type")}}},[n("i",{staticClass:"mdi mdi-sort-numeric pull-right"}),t._v("\n                                            "+t._s(t.$t("question-type"))+"\n                                        ")]),t._v(" "),n("th",{staticClass:"sortable hidden-xs","class":{active:t.isOrderedBy("language")},on:{click:function(e){t.sortSearchResults("language")}}},[n("i",{staticClass:"mdi mdi-sort-numeric pull-right"}),t._v("\n                                            "+t._s(t.$t("language"))+"\n                                        ")]),t._v(" "),n("th")])]),t._v(" "),n("tbody",t._l(t.sortedSearchResults,function(e){return n("tr",[n("td",{attrs:{title:e.description}},[t._v(t._s(e.title))]),t._v(" "),n("td",{staticClass:"hidden-xs"},[t._v(t._s(t.getZooFromId(e.zoo)))]),t._v(" "),n("td",{staticClass:"hidden-xs"},[t._v(t._s(t.getQuestionTypeFromId(e.type)))]),t._v(" "),n("td",{staticClass:"hidden-xs"},[t._v(t._s(t.getLanguageFromId(e.language)))]),t._v(" "),n("td",[n("transition",{attrs:{name:"button-toggle",mode:"out-in","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.hasItem(e)?n("button",{key:"remove",staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(n){t.removeItem(e)}}},[n("i",{staticClass:"mdi mdi-minus"})]):n("button",{key:"add",staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(n){t.addItem(e)}}},[n("i",{staticClass:"mdi mdi-plus"})])])],1)])}))]),t._v(" "),n("div",{staticClass:"text-center"},[n("transition",{attrs:{name:"button-load-more","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.searchResults.loadMore?n("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:t.inAjaxCall},on:{click:function(e){t.loadMoreItems()}}},[t._v(t._s(t.$t("load-more")))]):t._e()])],1)]):t._e()])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:t.inAjaxCall},on:{click:function(e){t.closeDialog()}}},[t._v(t._s(t.$t("close")))])])])])]),t._v(" "),n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){t.openDialog()}}},[n("i",{staticClass:"mdi mdi-plus"}),t._v("\n        "+t._s(t.$t("add-activity-items"))+"\n    ")]),t._v(" "),n("ul",{staticClass:"list-group sz-sortable-list"},[n("draggable",{attrs:{list:t.items,options:t.options}},t._l(t.items,function(e){return n("li",{staticClass:"list-group-item",attrs:{title:e.description}},[n("input",{staticClass:"form-control",attrs:{type:"hidden",name:"activity_items[]"},domProps:{value:e.id}}),t._v(" "),n("i",{staticClass:"mdi mdi-drag-vertical"}),t._v(" "),n("button",{staticClass:"btn btn-danger btn-sm pull-right",attrs:{type:"button"},on:{click:function(n){t.removeItem(e)}}},[n("i",{staticClass:"mdi mdi-minus"})]),t._v("\n                "+t._s(e.title)+"\n            ")])}))],1)])},staticRenderFns:[]}},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};!function(){function e(t){function e(t){t.parentElement.removeChild(t)}function n(t,e,n){n<t.children.length?t.insertBefore(e,t.children[n]):t.appendChild(e)}function r(t,e){return t.map(function(t){return t.elm}).indexOf(e)}function a(t,e){return t?Array.prototype.map.call(e,function(e){return r(t,e)}):[]}function s(t,e){this.$emit(t.toLowerCase(),e)}function l(t){var e=this;return function(n){null!==e.list&&e["onDrag"+t](n),s.call(e,t,n)}}var c=["Start","Add","Remove","Update","End"],u=["Choose","Sort","Filter","Clone"],d=["Move"].concat(c,u).map(function(t){return"on"+t}),f=null,h={options:Object,list:{type:Array,required:!1,"default":null},clone:{type:Function,"default":function(t){return t}},element:{type:String,"default":"div"},move:{type:Function,"default":null}},p={props:h,data:function(){return{transitionMode:!1}},render:function(t){if(this.$slots["default"]&&1===this.$slots["default"].length){var e=this.$slots["default"][0];e.componentOptions&&"transition-group"===e.componentOptions.tag&&(this.transitionMode=!0)}return t(this.element,null,this.$slots["default"])},mounted:function(){var e=this,n={};c.forEach(function(t){n["on"+t]=l.call(e,t)}),u.forEach(function(t){n["on"+t]=s.bind(e,t)});var i=o({},this.options,n,{onMove:function(t){return e.onDragMove(t)}});this._sortable=new t(this.rootContainer,i),this.computeIndexes()},beforeDestroy:function(){this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},isCloning:function(){return!!this.options&&null!==this.options.group&&"clone"===this.options.group.pull}},watch:{options:function(t){for(var e in t)d.indexOf(e)==-1&&this._sortable.option(e,t[e])},list:function(){this.computeIndexes()}},methods:{getChildrenNodes:function(){var t=this.$slots["default"];return this.transitionMode?t[0].child.$slots["default"]:t},computeIndexes:function(){var t=this;this.$nextTick(function(){t.visibleIndexes=a(t.getChildrenNodes(),t.rootContainer.children)})},getUnderlyingVm:function(t){var e=r(this.getChildrenNodes(),t),n=this.list[e];return{index:e,element:n}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&"transition-group"===e.$options._componentTag?e.$parent:e},emitChanges:function(t){var e=this;this.$nextTick(function(){e.$emit("change",t)})},spliceList:function(){var t;(t=this.list).splice.apply(t,arguments)},updatePosition:function(t,e){this.list.splice(e,0,this.list.splice(t,1)[0])},getRelatedContextFromMoveEvent:function(t){var e=t.to,n=t.related,i=this.getUnderlyingPotencialDraggableComponent(e);if(!i)return{component:i};var r=i.list,a={list:r,component:i};if(e!==n&&r&&i.getUnderlyingVm){var s=i.getUnderlyingVm(n);return o(s,a)}return a},getVmIndex:function(t){var e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),f=t.item},onDragAdd:function(t){var n=t.item._underlying_vm_;if(void 0!==n){e(t.item);var i=this.getVmIndex(t.newIndex);this.spliceList(i,0,n),this.computeIndexes();var o={element:n,newIndex:i};this.emitChanges({added:o})}},onDragRemove:function(t){if(n(this.rootContainer,t.item,t.oldIndex),this.isCloning)return void e(t.clone);var i=this.context.index;this.spliceList(i,1);var o={element:this.context.element,oldIndex:i};this.emitChanges({removed:o})},onDragUpdate:function(t){e(t.item),n(t.from,t.item,t.oldIndex);var i=this.context.index,o=this.getVmIndex(t.newIndex);this.updatePosition(i,o);var r={element:this.context.element,oldIndex:i,newIndex:o};this.emitChanges({moved:r})},computeFutureIndex:function(t,e){if(!t.element)return 0;var n=[].concat(i(e.to.children)),o=n.indexOf(e.related),r=t.component.getVmIndex(o),a=n.indexOf(f)!=-1;return a?r:r+1},onDragMove:function(t){var e=this.move;if(!e||!this.list)return!0;var n=this.getRelatedContextFromMoveEvent(t),i=this.context,r=this.computeFutureIndex(n,t);return o(i,{futureIndex:r}),o(t,{relatedContext:n,draggedContext:i}),e(t)},onDragEnd:function(t){this.computeIndexes(),f=null}}};return p}var r=n(4);t.exports=e(r)}()},function(t,e,n){var i=n(0);Vue.use(i),Vue.config.lang=window.Laravel.locale,Vue.locale(window.Laravel.locale,_.cloneDeep(window.Laravel.translations)),Vue.component("activity-items",n(1));new Vue({el:"form.activity-create,form.activity-edit",mounted:function(){var t=this;t.apiUrl=window.Laravel.apiUrl,$(t.$refs.difficultyLevel).ionRangeSlider({onChange:function(e){$(t.$refs.difficultyLevelStart).val(e.from),$(t.$refs.difficultyLevelEnd).val(e.to)}}),$(t.$refs.proximityCheck).on("change",function(e){var n=$(t.$refs.proximityCheck).prop("checked");$(t.$refs.proximityRadius).prop("disabled",!n)}),$('[data-toggle="tooltip"]').tooltip(),$(t.$refs.proximityCheck).prop("checked")||$(t.$refs.proximityRadius).prop("disabled",!0)},data:function(){return{apiUrl:"/api"}}})}]);